/* ==========================================================================
   1. GLOBAL / HOME / SUBSCRIPTIONS
   ========================================================================== */
ytd-rich-grid-renderer {
  --ytd-rich-grid-items-per-row: 6 !important;
  --ytd-rich-grid-posts-per-row: 6 !important;
  --ytd-rich-grid-item-min-width: 200px !important;
  --ytd-rich-grid-content-max-width: 98% !important;

  /* Empurra o grid para baixo para compensar a falta da barra de filtros */
  margin-top: 40px !important;
}

ytd-rich-grid-media #video-title,
ytd-video-renderer #video-title {
  font-size: 1.4rem !important;
  line-height: 1.8rem !important;
}

/* ==========================================================================
   2. LIMPEZA GERAL (LEGALIZE NUCLEAR BOMBS)
   ========================================================================== */
ytd-feed-filter-chip-bar-renderer {
  display: none !important;
}

/* Remove seções extras (Breaking News, Tópicos) */
ytd-rich-section-renderer {
  display: none !important;
}

/* Remove Prateleiras de Shorts */
ytd-reel-shelf-renderer {
  display: none !important;
}

/* Remove botão Shorts da sidebar (Menu Grande e Pequeno) */
ytd-guide-entry-renderer:has(a[href^="/shorts"]),
ytd-guide-entry-renderer:has(a[title="Shorts"]),
ytd-mini-guide-entry-renderer:has(a[href^="/shorts"]),
ytd-mini-guide-entry-renderer[aria-label="Shorts"] {
  display: none !important;
}

/* Apaga Shorts avulsos disfarçados em qualquer lugar do site */
ytd-video-renderer:has(a[href^="/shorts"]),
ytd-compact-video-renderer:has(a[href^="/shorts"]),
ytd-rich-item-renderer:has(a[href^="/shorts"]),
yt-lockup-view-model:has(a[href^="/shorts"]) {
  display: none !important;
}

/* ==========================================================================
   3. WATCH PAGE (Sidebar Compacta)
   ========================================================================== */
#secondary yt-related-chip-cloud-renderer,
#related yt-related-chip-cloud-renderer {
  display: none !important;
}

#secondary ytd-item-section-renderer,
#secondary .ytd-item-section-renderer {
  padding-top: 0px !important;
  margin-top: 0px !important;
  border-top: none !important;
}

#secondary .yt-lockup-view-model__content-image {
  width: 140px !important;
  min-width: 140px !important;
  max-width: 140px !important;
  flex: 0 0 auto !important;
  margin-right: 8px !important;
}

#secondary .yt-lockup-view-model__metadata {
  width: auto !important;
  flex: 1 !important;
  min-width: 0 !important;
}

#secondary .yt-lockup-view-model-title,
#secondary h3.yt-lockup-view-model-title {
  font-size: 1.3rem !important;
  line-height: 1.5rem !important;
  max-height: 3rem !important;
  overflow: hidden !important;
  display: -webkit-box !important;
  -webkit-line-clamp: 2 !important;
  -webkit-box-orient: vertical !important;
}

#secondary yt-lockup-view-model,
#secondary .yt-lockup-view-model {
  margin-bottom: 0px !important;
  padding-top: 4px !important;
  padding-bottom: 4px !important;
}

/* ==========================================================================
   4. PÁGINA DE PESQUISA (SEARCH RESULTS)
   ========================================================================== */

/* 4.1. LIMPEZA DA PESQUISA */
ytd-two-column-search-results-renderer #secondary {
  display: none !important;
}

ytd-search grid-shelf-view-model {
  display: none !important;
}

ytd-search ytd-shelf-renderer {
  display: none !important;
}

ytd-search ytd-horizontal-card-list-renderer {
  display: none !important;
}

ytd-search ytd-reel-shelf-renderer {
  display: none !important;
}

/* Remove Resumos de IA / Capítulos Expandíveis */
ytd-search ytd-expandable-metadata-renderer {
  display: none !important;
}

/* Remove Botões de Notificação */
ytd-search button-view-model:has(button[aria-label="Notify me"]),
ytd-search button-view-model:has(button[aria-label="Set reminder"]),
ytd-search button-view-model:has(button[aria-label="Receber notificações"]),
ytd-search button-view-model:has(button[aria-label="Definir lembrete"]) {
  display: none !important;
}

/* 4.2. REMOVE CANAIS E PLAYLISTS */
ytd-search ytd-channel-renderer,
ytd-search ytd-playlist-renderer {
  display: none !important;
}

/* 4.3. PADRONIZAÇÃO DE ESPAÇAMENTO (8px FIXO) */
ytd-search ytd-item-section-renderer,
ytd-search ytd-continuation-item-renderer {
  margin-top: 0px !important;
  margin-bottom: 0px !important;
  padding-top: 0px !important;
  padding-bottom: 0px !important;
  border: none !important;
}

ytd-search ytd-video-renderer,
ytd-search yt-lockup-view-model {
  margin-top: 0px !important;
  margin-bottom: 8px !important;
  padding-top: 0px !important;
  padding-bottom: 0px !important;
  border: none !important;
}

/* 4.4. PADRONIZAR THUMBNAILS (280px) */
ytd-search yt-lockup-view-model .yt-lockup-view-model__content-image {
  width: 280px !important;
  min-width: 280px !important;
  max-width: 280px !important;
  flex: 0 0 auto !important;
  margin-right: 16px !important;
}

ytd-search yt-lockup-view-model .yt-lockup-view-model__metadata {
  width: auto !important;
  flex: 1 !important;
  min-width: 0 !important;
}

/* Layout Antigo */
ytd-search ytd-video-renderer ytd-thumbnail {
  max-width: 280px !important;
  min-width: 280px !important;
}

ytd-search ytd-video-renderer .text-wrapper {
  max-width: 100% !important;
}
